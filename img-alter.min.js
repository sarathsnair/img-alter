/*! img-alter v0.0.0-development 2016-12-13 */
!function(){"use strict";var a={fillImageAltTags:function(a){if(null===typeof a||!a.apiKey)return console.warn("img-alter needs Microsoft Vision API Key to work properly."),-1;for(var b=a.apiKey,c="https://api.projectoxford.ai/vision/v1.0/describe",d=function(){for(var a=[],b=document.getElementsByTagName("img"),c=0;c<b.length;c++)a.push(b[c].src);return a},e=function(a,b){a.setAttribute("alt",b)},f=document.getElementsByTagName("img"),g=d(),h=0;h<g.length;h++)!function(a){var d={url:g[a]},h=new XMLHttpRequest;h.open("POST",c,!0),h.setRequestHeader("Content-type","application/json"),h.setRequestHeader("Access-Control-Allow-Headers","x-requested-with"),h.setRequestHeader("Ocp-Apim-Subscription-Key",b),h.setRequestHeader("Access-Control-Allow-Origin","*"),h.onreadystatechange=function(){h.readyState==XMLHttpRequest.DONE&&200==h.status?e(f[a],JSON.parse(h.responseText).description.captions[0].text):400==h.status?console.log("image-alter : ther is an error"):console.log("image-alter : Something other than 200 is returned")},h.send(JSON.stringify(d))}(h)}};window.ImageAlter=a}();